{% extends 'layout.html' %}
{% block title %}Choose subject{% endblock %}
{% block content %}
  <h2>Choose a subject and category</h2>
  <form method="post" action="{{ url_for('routes.submit_feedback') }}">
    <input type="hidden" name="teacher_id" value="{{ teacher_id }}" />
    <label>Subject
      <select name="subject_id" required>
        {% for s in subjects %}
          <option value="{{ s.id }}">{{ s.name }}</option>
        {% endfor %}
      </select>
    </label>
    <label>Category
      <select name="category_id" id="category_id" required>
        {% for c in categories %}
          <option value="{{ c.id }}">{{ c.name }}</option>
        {% endfor %}
        <option value="__custom__">Other (write your own)</option>
      </select>
    </label>
    <div id="custom_category_wrap" class="hidden">
      <label>Or write your own category (required)
        <input type="text" name="custom_category" id="custom_category" placeholder="e.g., Homework clarity" />
      </label>
    </div>
    <label>Title
      <input type="text" name="title" required />
    </label>
    <label>Info
      <textarea name="info" rows="6" required></textarea>
    </label>
    <button class="btn primary" type="submit">Send feedback</button>
  </form>
  <script src="{{ url_for('static', filename='js/choose_subject.js') }}"></script>
{% endblock %}

